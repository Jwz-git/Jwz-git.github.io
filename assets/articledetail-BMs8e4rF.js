import{f as n,g as l,j as s,k as v,r as y,o as T,q as m,t as h,F as g,C as _,A as x,D as b}from"./@vue-ueUZlWx5.js";import{u as C}from"./vue-router-DPeUU0Gl.js";import{N as M}from"./NavBar-Cr4VnPZk.js";import{B as k}from"./Back-DrdQHVwI.js";import{M as S}from"./markdown-it-C44Roubk.js";import{H as p}from"./highlight.js-CTtIaAUQ.js";import{_ as w}from"./index-CLLtOyKx.js";import{m as D}from"./@iktakahiro-DjkunYzT.js";/* empty css              */import{a as H}from"./articles-CryEBd8-.js";import"./mdurl-k9Sl0PQj.js";import"./uc.micro-kMc2yuuw.js";import"./entities-C20TfXL6.js";import"./linkify-it-DmNjr4Kv.js";import"./punycode.js-Dj65hjkv.js";/* empty css                        */import"./bootstrap-Czi4NAWS.js";/* empty css                    */import"./live2d-widget-BS41ZU4R.js";const I={name:"CodeCopy",props:{code:{type:String,default:""}},data(){return{success:!1,buttonRef:`copy-btn-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,successTimer:null,minDisplayTime:2e3,successStartTime:0}},methods:{async copyMessage(){try{if(navigator.clipboard&&window.isSecureContext){await navigator.clipboard.writeText(this.code),console.log("使用Clipboard API复制成功"),this.showSuccess();return}this.useExecCommandFallback()}catch(e){console.error("Clipboard API复制失败:",e),this.useExecCommandFallback()}},useExecCommandFallback(){const e=document.createElement("textarea");e.value=this.code,e.style.position="fixed",e.style.left="-999999px",e.style.top="-999999px",document.body.appendChild(e),e.focus(),e.select();try{document.execCommand("copy")?(console.log("使用execCommand复制成功"),this.showSuccess()):console.log("execCommand复制失败")}catch(t){console.error("execCommand复制失败:",t)}finally{document.body.removeChild(e)}},showSuccess(){this.successTimer&&clearTimeout(this.successTimer),this.success=!0,this.successStartTime=Date.now(),this.successTimer=setTimeout(()=>{this.success&&Date.now()-this.successStartTime>=this.minDisplayTime&&(this.success=!1)},this.minDisplayTime)},resetIcon(){if(this.success){const e=Date.now()-this.successStartTime;if(e>=this.minDisplayTime)this.success=!1,this.successTimer&&clearTimeout(this.successTimer);else{const t=this.minDisplayTime-e;this.successTimer&&clearTimeout(this.successTimer),this.successTimer=setTimeout(()=>{this.success=!1},t)}}}},beforeDestroy(){this.successTimer&&clearTimeout(this.successTimer)}},B={class:"copy-content"},E={key:0,class:"icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg","p-id":"1590",width:"400",height:"400"},A={key:1,class:"icon success-icon",viewBox:"0 0 1024 1024",version:"1.1",xmlns:"http://www.w3.org/2000/svg",width:"400",height:"400"};function L(e,t,f,d,r,o){return l(),n("div",B,[s("div",{ref:r.buttonRef,class:"copy-btn",onClick:t[0]||(t[0]=(...u)=>o.copyMessage&&o.copyMessage(...u)),onMouseleave:t[1]||(t[1]=(...u)=>o.resetIcon&&o.resetIcon(...u))},[r.success?v("",!0):(l(),n("svg",E,[...t[2]||(t[2]=[s("path",{d:"M96.1 575.7a32.2 32.1 0 1 0 64.4 0 32.2 32.1 0 1 0-64.4 0Z",fill:"aqua","p-id":"1591"},null,-1),s("path",{d:`M742.1 450.7l-269.5-2.1c-14.3-0.1-26 13.8-26 31s11.7 31.3 26 31.4l269.5 \r
                    2.1c14.3 0.1 26-13.8 26-31s-11.7-31.3-26-31.4zM742.1 577.7l-269.5-2.1c-14.3-0.1-26 \r
                    13.8-26 31s11.7 31.3 26 31.4l269.5 2.1c14.3 0.2 26-13.8 26-31s-11.7-31.3-26-31.4z`,fill:"aqua","p-id":"1592"},null,-1),s("path",{d:`M736.1 63.9H417c-70.4 0-128 57.6-128 128h-64.9c-70.4 0-128 57.6-128 \r
                    128v128c-0.1 17.7 14.4 32 32.2 32 17.8 0 32.2-14.4 32.2-32.1V320c0-35.2 \r
                    28.8-64 64-64H289v447.8c0 70.4 57.6 128 128 128h255.1c-0.1 35.2-28.8 \r
                    63.8-64 63.8H224.5c-35.2 0-64-28.8-64-64V703.5c0-17.7-14.4-32.1-32.2-32.1-17.8 \r
                    0-32.3 14.4-32.3 32.1v128.3c0 70.4 57.6 128 128 128h384.1c70.4 0 128-57.6 \r
                    128-128h65c70.4 0 128-57.6 128-128V255.9l-193-192z m0.1 63.4l127.7 128.3H800c-35.2 \r
                    0-64-28.8-64-64v-64.3h0.2z m64 641H416.1c-35.2 0-64-28.8-64-64v-513c0-35.2 28.8-64 \r
                    64-64H671V191c0 70.4 57.6 128 128 128h65.2v385.3c0 35.2-28.8 64-64 64z`,fill:"aqua","p-id":"1593"},null,-1)])])),r.success?(l(),n("svg",A,[...t[3]||(t[3]=[s("path",{d:`M953.472 174.976L385.152 759.168l-275.328-282.794667-53.290667 50.346667L385.194667 \r
                    857.6l616.021333-632.32z`,fill:"#219F68","p-id":"2417"},null,-1)])])):v("",!0)],544)])}const V=w(I,[["render",L],["__scopeId","data-v-c6dd7bf4"]]),z={class:"stroll"},q={class:"title-container",style:{transform:"translateY(-5rem)"}},F={class:"article-title"},N={class:"article-tags"},$={class:"article-meta"},j={class:"content-card"},P=["innerHTML"],R={class:"button-container"},J={__name:"articledetail",setup(e){const f=C().params.id,d=y(H.find(c=>c.id===parseInt(f))||{title:"文章不存在",content:"该文章已被移除或不存在"}),r=y(""),o=new S({html:!0,xhtmlOut:!0,breaks:!0,linkify:!1,typographer:!1,highlight:function(c,a){if(a&&p.getLanguage(a))try{const i=p.highlightAuto(c,[a]);return`<pre class="hljs"><code class="language-${a}">${i.value}</code></pre>`}catch{}return`<pre class="hljs"><code>${o.utils.escapeHtml(c)}</code></pre>`}});o.use(D);const u=()=>{setTimeout(()=>{document.querySelectorAll("pre.hljs").forEach(c=>{if(c.classList.contains("code-copy-added"))return;const a=m(V,{code:c.innerText});b(a,document.createElement("div")),c.appendChild(a.el),c.classList.add("code-copy-added")})},0)};return T(async()=>{try{const a=await(await fetch(d.value.mdPath)).text();r.value=o.render(a),setTimeout(()=>{document.querySelectorAll("pre code").forEach(i=>{p.highlightElement(i)}),u()},0)}catch(c){console.error("加载 Markdown 文件出错:",c)}}),(c,a)=>(l(),n(g,null,[m(M),s("div",z,[s("div",q,[s("h1",F,h(d.value.title),1),s("div",N,[(l(!0),n(g,null,_(d.value.tags,i=>(l(),n("span",{key:i,class:"tag"},h(i),1))),128))]),s("div",$,[a[0]||(a[0]=x('<svg xmlns="http://www.w3.org/2000/svg" class="icon icon-tabler icon-tabler-calendar-time" width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" fill="none" stroke-linecap="round" stroke-linejoin="round" data-v-26cf2bfd="" data-v-724d7006><path stroke="none" d="M0 0h24v24H0z" data-v-26cf2bfd="" data-v-724d7006></path><path d="M11.795 21h-6.795a2 2 0 0 1 -2 -2v-12a2 2 0 0 1 2 -2h12a2 2 0 0 1 2 2v4" data-v-26cf2bfd="" data-v-724d7006></path><circle cx="18" cy="18" r="4" data-v-26cf2bfd="" data-v-724d7006></circle><path d="M15 3v4" data-v-26cf2bfd="" data-v-724d7006></path><path d="M7 3v4" data-v-26cf2bfd="" data-v-724d7006></path><path d="M3 11h16" data-v-26cf2bfd="" data-v-724d7006></path><path d="M18 16.496v1.504l1 1" data-v-26cf2bfd="" data-v-724d7006></path></svg>',1)),s("span",null,h(d.value.date),1)])]),s("div",j,[s("div",{class:"article-content",innerHTML:r.value},null,8,P)]),s("div",R,[m(k,{text:"返回",to:"/Article"})])])],64))}},de=w(J,[["__scopeId","data-v-724d7006"]]);export{de as default};
